(this["webpackJsonpflink-challenge"]=this["webpackJsonpflink-challenge"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(33),r=a.n(n),i=(a(77),a(4)),l=a(26),o=a(6),u=a(12),d=a(23),h=a(24),j=a(27),b=a(25),f=a(7),m=a(35),O=a(18),x=a(16),p=a(15),v=a(21),g=a(0);x.b.add(p.d,p.a);var N=function(e){var t=e.character,a=t.ancestry,s=t.alive,n=t.dateOfBirth,r=t.house,i=t.image,l=t.name,o=t.patronus,u=t.wand,d=t.gender,h=Object(c.useState)(!1),j=Object(O.a)(h,2),b=j[0],f=j[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"column ",style:{height:367},onClick:function(){return f((function(e){return!0}))},children:Object(g.jsx)("div",{className:"cromo-container",children:Object(g.jsxs)("div",{className:"cromo-front ".concat("Gryffindor"==r?"is-gryffindor":"Slytherin"==r?"is-slytherin":"Hufflepuff"==r?"is-hufflepuff":"Ravenclaw"==r?"is-ravenclaw":""),children:[Object(g.jsx)("img",{className:"cromo-image",src:i}),Object(g.jsx)("div",{className:"cromo-image-overlay",children:Object(g.jsxs)("p",{children:[l,Object(g.jsx)("br",{}),r]})})]})})}),Object(g.jsxs)("div",{className:"modal ".concat(b?"is-active":""),children:[Object(g.jsx)("div",{className:"modal-background",onClick:function(){return f((function(e){return!1}))}}),Object(g.jsxs)("div",{className:"modal-card",children:[Object(g.jsxs)("header",{className:"modal-card-head ".concat("Gryffindor"==r?"is-gryffindor":"Slytherin"==r?"is-slytherin":"Hufflepuff"==r?"is-hufflepuff":"Ravenclaw"==r?"is-ravenclaw":""),children:[Object(g.jsxs)("p",{className:"modal-card-title is-bold has-text-white",children:[l,"  ",Object(g.jsx)(v.a,{icon:s?p.a:p.d})]}),Object(g.jsx)("button",{className:"delete","aria-label":"close",onClick:function(){return f((function(e){return!1}))}})]}),Object(g.jsx)("section",{className:"modal-card-body",children:Object(g.jsxs)("div",{className:"columns is-multiline",children:[Object(g.jsx)("div",{className:"column is-6 is-flex  is-justify-content-center",children:Object(g.jsx)("img",{src:i,alt:"Placeholder image",className:"modal-image"})}),Object(g.jsxs)("div",{className:"column",children:[Object(g.jsxs)("h2",{className:"title",children:["male"===d?"Wizard":"Witch"," Information"]}),Object(g.jsxs)("p",{className:"has-text-weight-bold",children:["House: ",Object(g.jsx)("span",{className:"has-text-weight-normal",children:r})]}),Object(g.jsxs)("p",{className:"has-text-weight-bold",children:["Blood status: ",Object(g.jsx)("span",{className:"has-text-weight-normal",children:a})]}),Object(g.jsxs)("p",{className:"has-text-weight-bold",children:["Birthday: ",Object(g.jsx)("span",{className:"has-text-weight-normal",children:n})]}),Object(g.jsxs)("p",{className:"has-text-weight-bold",children:["Patronus: ",Object(g.jsx)("span",{className:"has-text-weight-normal",children:o})]}),Object(g.jsxs)("p",{className:"has-text-weight-bold",children:["Wand wood: ",Object(g.jsx)("span",{className:"has-text-weight-normal",children:u.wood})]}),Object(g.jsxs)("p",{className:"has-text-weight-bold",children:["Wand Core: ",Object(g.jsx)("span",{className:"has-text-weight-normal",children:u.core})]}),Object(g.jsxs)("p",{className:"has-text-weight-bold",children:["Wand length: ",Object(g.jsxs)("span",{className:"has-text-weight-normal",children:[u.length,'"']})]})]})]})}),Object(g.jsx)("footer",{className:"modal-card-foot"})]})]})]})},y="LOGIN",w="LOGOUT",k="LOAD_USER",C="SET_ERROR",S="GET_CHARACTERS",L="GET_CHARACTERS_LOADING",R="GET_CHARACTERS_ERROR",_="FILTER_CHARACTERS",I={filters:{name:"",gryffindor:!1,slytherin:!1,ravenclaw:!1,hufflepuff:!1,others:!1,pure_blood:!1,half_blood:!1,muggleborn:!1,live:!1,dead:!1},data:[],characters:[],loading:!1,error:{}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(i.a)(Object(i.a)({},e),{},{data:t.payload,characters:t.payload,loading:!1,error:{}});case L:return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case R:return Object(i.a)(Object(i.a)({},e),{},{error:t.payload});case _:var a=Object(i.a)(Object(i.a)({},e.filters),t.payload),c=e.data.filter((function(e){return""===a.name||e.name.toLowerCase().includes(a.name.toLowerCase())})).filter((function(e){if(!(a.gryffindor||a.slytherin||a.ravenclaw||a.hufflepuff||a.others))return!0;if(a.gryffindor)var t="Gryffindor"===e.house;else t=!1;if(a.slytherin)var c="Slytherin"===e.house;else c=!1;if(a.ravenclaw)var s="Ravenclaw"===e.house;else s=!1;if(a.hufflepuff)var n="Hufflepuff"===e.house;else n=!1;if(a.others)var r=""===e.house;else r=!1;return t||c||s||n||r})).filter((function(e){if(!(a.pure_blood||a.half_blood||a.muggleborn))return!0;if(a.pure_blood)var t="pure-blood"===e.ancestry;else t=!1;if(a.half_blood)var c="half-blood"===e.ancestry;else c=!1;if(a.muggleborn)var s="muggleborn"===e.ancestry;else s=!1;return t||c||s})).filter((function(e){if(!a.live&&!a.dead)return!0;if(a.live)var t=e.alive;else t=!1;if(a.dead)var c=!1===e.alive;else c=!1;return t||c}));return console.log("after",c),Object(i.a)(Object(i.a)({},e),{},{characters:c,filters:Object(i.a)({},a)});default:return e}},G=function(e){return e.characters.loading},H=function(e){return e.characters.error},T=function(e){return e.characters.filters},A=function(e){return e.characters.characters},B=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var c;return Object(d.a)(this,a),(c=t.call(this,e)).shouldComponentRender=c.shouldComponentRender.bind(Object(m.a)(c)),c}return Object(h.a)(a,[{key:"shouldComponentRender",value:function(){return!1!==this.props.loading}},{key:"render",value:function(){var e=this.props.characters;return Object(g.jsx)("div",{className:"columns is-multiline is-vcentered",children:e.map((function(e,t){return Object(g.jsx)(N,{character:e},t)}))})}}]),a}(c.Component),F=Object(f.b)((function(e){return{error:H(e),characters:A(e),loading:G(e)}}),null)(B),W=a(28),D=a.n(W),M="http://hp-api.herokuapp.com/api",J=function(e){return{type:S,payload:e}},P=function(){return{type:L,payload:{}}},U=function(e){return{type:R,payload:e}},q={filterCharacters:function(e){return{type:_,payload:e}}},z=Object(f.b)((function(e){return{filters:T(e)}}),q)((function(e){var t=e.filters,a=Object(l.a)(e,["filters"]),s=Object(c.useState)("house"),n=Object(O.a)(s,2),r=n[0],i=n[1];var o=function(e){a.filterCharacters(e)};return Object(g.jsxs)("nav",{className:"panel",children:[Object(g.jsx)("p",{className:"panel-heading has-text-weight-semibold has-text-white",children:"Filters"}),Object(g.jsx)("div",{className:"panel-block",children:Object(g.jsxs)("p",{className:"control has-icons-left",children:[Object(g.jsx)("input",{className:"input",type:"text",placeholder:"Search",onChange:function(e){a.filterCharacters({name:e.target.value})}}),Object(g.jsx)("span",{className:"icon is-left",children:Object(g.jsx)(v.a,{icon:p.c})})]})}),Object(g.jsx)("div",{className:"panel-tabs tabs is-small is-boxed",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{className:"house"===r&&"is-active",children:Object(g.jsx)(u.b,{onClick:function(){return i((function(e){return"house"}))},children:Object(g.jsx)("span",{children:"House"})})}),Object(g.jsx)("li",{className:"ancestry"===r&&"is-active",children:Object(g.jsx)(u.b,{onClick:function(){return i((function(e){return"ancestry"}))},children:Object(g.jsx)("span",{children:"Blood status"})})}),Object(g.jsx)("li",{className:"alive"===r&&"is-active",children:Object(g.jsx)(u.b,{onClick:function(){return i((function(e){return"alive"}))},children:Object(g.jsx)("span",{children:"Status"})})})]})}),Object(g.jsxs)("div",{className:"house"!=r&&"is-hidden",children:[Object(g.jsx)("div",{className:"panel-block",children:Object(g.jsxs)("label",{className:"checkbox",children:[Object(g.jsx)("input",{type:"checkbox",defaultChecked:t.gryffindor,onChange:function(e){return o({gryffindor:!t.gryffindor})}}),"Gryffindor"]})}),Object(g.jsx)("div",{className:"panel-block",children:Object(g.jsxs)("label",{className:"checkbox",children:[Object(g.jsx)("input",{type:"checkbox",defaultChecked:t.slytherin,onChange:function(e){return o({slytherin:!t.slytherin})}}),"Slytherin"]})}),Object(g.jsx)("div",{className:"panel-block",children:Object(g.jsxs)("label",{className:"checkbox",children:[Object(g.jsx)("input",{type:"checkbox",defaultChecked:t.ravenclaw,onChange:function(e){return o({ravenclaw:!t.ravenclaw})}}),"Ravenclaw"]})}),Object(g.jsx)("div",{className:"panel-block",children:Object(g.jsxs)("label",{className:"checkbox",children:[Object(g.jsx)("input",{type:"checkbox",defaultChecked:t.hufflepuff,onChange:function(e){return o({hufflepuff:!t.hufflepuff})}}),"Hufflepuff"]})}),Object(g.jsx)("div",{className:"panel-block",children:Object(g.jsxs)("label",{className:"checkbox",children:[Object(g.jsx)("input",{type:"checkbox",defaultChecked:t.others,onChange:function(e){return o({others:!t.others})}}),"Others"]})})]}),Object(g.jsxs)("div",{className:"ancestry"!=r&&"is-hidden",children:[Object(g.jsx)("div",{className:"panel-block",children:Object(g.jsxs)("label",{className:"checkbox",children:[Object(g.jsx)("input",{type:"checkbox",defaultChecked:t.pure_blood,onChange:function(e){return o({pure_blood:!t.pure_blood})}}),"pure-blood"]})}),Object(g.jsx)("div",{className:"panel-block",children:Object(g.jsxs)("label",{className:"checkbox",children:[Object(g.jsx)("input",{type:"checkbox",defaultChecked:t.half_blood,onChange:function(e){return o({half_blood:!t.half_blood})}}),"half-blood"]})}),Object(g.jsx)("div",{className:"panel-block",children:Object(g.jsxs)("label",{className:"checkbox",children:[Object(g.jsx)("input",{type:"checkbox",defaultChecked:t.muggleborn,onChange:function(e){return o({muggleborn:!t.muggleborn})}}),"muggleborn"]})})]}),Object(g.jsxs)("div",{className:"alive"!=r&&"is-hidden",children:[Object(g.jsx)("div",{className:"panel-block",children:Object(g.jsxs)("label",{className:"checkbox",children:[Object(g.jsx)("input",{type:"checkbox",defaultChecked:t.live,onChange:function(e){return o({live:!t.live})}}),"Live"]})}),Object(g.jsx)("div",{className:"panel-block",children:Object(g.jsxs)("label",{className:"checkbox",children:[Object(g.jsx)("input",{type:"checkbox",defaultChecked:t.dead,onChange:function(e){return o({dead:!t.dead})}}),"Dead"]})})]})]})})),K=function(e,t){if(e)return"string"!==typeof t&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)},Q=function(e){if(e)return JSON.parse(window.localStorage.getItem(e))},V=function(e){if(e)return window.localStorage.removeItem(e)},X={isLogin:!1,user:{name:"",house:null,isStaff:!1,isStudent:!1,email:""},error:!1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return K("user",t.payload.user),Object(i.a)(Object(i.a)({},e),{},{user:t.payload.user,isLogin:!0,error:!1});case w:return V("user"),Object(i.a)(Object(i.a)({},e),{},{profile:{name:null,house:null},isLogin:!1,error:!1});case k:return Object(i.a)(Object(i.a)({},e),{},{user:t.payload.user,isLogin:!0,error:!1});case C:return Object(i.a)(Object(i.a)({},e),{},{error:!0});default:return e}},Z=function(e){return e.auth.user},$=function(e){return e.auth.isLogin},ee=function(e){return e.auth.error},te=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchAllCharacters,a=e.fetchStudentsCharacters,c=e.user;c.isStaff?t():c.isStudent&&a()}},{key:"render",value:function(){return Object(g.jsx)("section",{className:"container is-halfheight mt-6",children:Object(g.jsxs)("div",{className:"columns",children:[Object(g.jsx)("div",{className:"column is-one-quarter",children:Object(g.jsx)(z,{})}),Object(g.jsx)("div",{className:"column",children:Object(g.jsx)(F,{})})]})})}}]),a}(c.Component),ae={fetchAllCharacters:function(){return function(e){e(P()),D.a.get(M+"/characters").then((function(t){if(t.error)throw t.error;return e(J(t.data)),t})).catch((function(t){e(U(t))}))}},fetchStudentsCharacters:function(){return function(e){e(P()),D.a.get(M+"/characters/students").then((function(t){if(t.error)throw t.error;return e(J(t.data)),t})).catch((function(t){e(U(t))}))}}},ce=Object(f.b)((function(e){return{error:H(e),characters:A(e),loading:G(e),user:Z(e)}}),ae)(te),se=a(14),ne=function(e){return{type:y,payload:{user:e}}},re=function(e){return{type:C,payload:{e:e}}},ie=a.p+"static/media/logo.bd594b26.png",le={logout:function(){return{type:w,payload:{}}}},oe=Object(o.g)(Object(f.b)((function(e){return{isLogin:e.auth.isLogin,user:e.auth.user}}),le)((function(e){var t,a=e.isLogin,c=e.user,n=Object(l.a)(e,["isLogin","user"]),r=s.a.useState(!1),i=Object(O.a)(r,2),o=i[0],d=i[1];return Object(g.jsx)("section",{className:"container is-fluid",children:Object(g.jsx)("header",{children:Object(g.jsxs)("nav",{className:"navbar has-logo-above",role:"navigation","aria-label":"main navigation",children:[Object(g.jsx)("div",{className:"navbar-brand",children:Object(g.jsxs)("a",(t={role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",onClick:function(){d(!o)}},Object(se.a)(t,"role","button"),Object(se.a)(t,"className","navbar-burger burger ".concat(o?"is-active":"")),Object(se.a)(t,"aria-label","menu"),Object(se.a)(t,"aria-expanded","false"),Object(se.a)(t,"data-target","navbarBasicExample"),Object(se.a)(t,"children",[Object(g.jsx)("span",{"aria-hidden":"true"}),Object(g.jsx)("span",{"aria-hidden":"true"}),Object(g.jsx)("span",{"aria-hidden":"true"})]),t))}),Object(g.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu ".concat(o?"is-active":""),children:[Object(g.jsx)("div",{className:"navbar-start"}),Object(g.jsxs)("div",{className:"navbar-end ",children:[Object(g.jsx)(u.b,{className:"navbar-item",to:"/",children:Object(g.jsx)("img",{src:ie})}),Object(g.jsx)("p",{className:"navbar-item has-text-weight-semibold has-text-white",children:a&&c.name}),a?Object(g.jsx)("a",{className:"navbar-item has-text-weight-semibold has-text-white",onClick:function(){n.logout(),n.history.push("/login")},children:" LOGOUT "}):Object(g.jsx)(u.b,{className:"navbar-item",to:"/login",children:" LOGIN "})]})]})]})})})}))),ue=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=e.loadUser;e.user;if(!e.isLogin){var a=Q("user");a?t(a):this.props.history.push("/login")}}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.isLogin;return Object(g.jsxs)("div",{className:"Gryffindor"===t.house?"is-gryffindor":"Slytherin"===t.house?"is-slytherin":"Hufflepuff"===t.house?"is-hufflepuff":"Ravenclaw"===t.house?"is-ravenclaw":"is-others",children:[a&&Object(g.jsx)(oe,{}),this.props.children]})}}]),a}(c.Component),de={loadUser:function(e){return{type:k,payload:{user:e}}}},he=Object(o.g)(Object(f.b)((function(e){return{user:Z(e),isLogin:$(e)}}),de)(ue)),je=a.p+"static/media/bg.77c548f6.jpeg",be={authtenticateMock:function(e,t){return function(a){D.a.post("/api/auth",JSON.stringify({username:e.email,password:e.pass})).then((function(e){var t=e.data;a(ne(t.user))})).then((function(){window.location.href=t})).catch((function(e){return a(re(e))}))}},login:ne},fe=Object(o.g)(Object(f.b)((function(e){return{error:ee(e)}}),be)((function(e){var t=Object(c.useState)({email:""}),a=Object(O.a)(t,2),s=a[0],n=a[1],r=function(e){n(Object(i.a)(Object(i.a)({},s),{},Object(se.a)({},e.target.name,e.target.value)))};return Object(g.jsx)("section",{className:"hero is-fullheight bg-img  is-bold",style:{backgroundImage:"url(".concat(je,")")},children:Object(g.jsx)("div",{className:"hero-body",children:Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"columns is-centered",children:Object(g.jsx)("div",{className:"column is-5-tablet is-4-desktop is-4-widescreen",children:Object(g.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.authtenticateMock(s,"/")},className:"box",children:[Object(g.jsxs)("div",{className:"level mb-0",children:[Object(g.jsx)("div",{className:"level-left",children:Object(g.jsx)("div",{className:"level-item",children:Object(g.jsx)("figure",{className:"image is-64x64",children:Object(g.jsx)("img",{className:"is-rounded",src:ie,alt:"logo"})})})}),Object(g.jsx)("div",{className:"level-right",children:Object(g.jsx)("div",{className:"level-item",children:Object(g.jsxs)("p",{className:"title has-text-centered has-text-black is-5",children:["Hogwarts ",Object(g.jsx)("br",{}),"School of Witchcraft and Wizardry"]})})})]}),Object(g.jsx)("div",{class:"is-divider","data-content":"OR"}),Object(g.jsx)("p",{className:"has-text-centered is-size-6 has-text-danger",children:e.error&&"Incorrect username or password"}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:"field",children:Object(g.jsxs)("div",{className:"control has-icons-left",children:[Object(g.jsx)("input",{type:"text",placeholder:"enter username",className:"input",id:"user",name:"email",required:!0,onChange:r}),Object(g.jsx)("span",{className:"icon is-small is-left",children:Object(g.jsx)(v.a,{icon:"user"})})]})}),Object(g.jsx)("div",{className:"field",children:Object(g.jsxs)("div",{className:"control has-icons-left",children:[Object(g.jsx)("input",{type:"password",placeholder:"enter password",className:"input",id:"pass",name:"pass",required:!0,onChange:r}),Object(g.jsx)("span",{className:"icon is-small is-left",children:Object(g.jsx)(v.a,{icon:"lock"})})]})}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:"field",children:Object(g.jsx)("button",{className:"button is-success is-fullwidth",type:"submit",children:"Login"})}),Object(g.jsx)("br",{})]})})})})})})}))),me=function(){return Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"notification is-primary",children:[Object(g.jsx)("strong",{children:"404"})," Not Found"]})})};function Oe(e){var t=e.component,a=Object(l.a)(e,["component"]);return Object(g.jsx)(o.b,Object(i.a)(Object(i.a)({},a),{},{render:function(e){return Q("user")?Object(g.jsx)(t,Object(i.a)({},e)):Object(g.jsx)(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var xe=function(){return Object(g.jsx)(u.a,{children:Object(g.jsx)(he,{children:Object(g.jsxs)(o.d,{children:[Object(g.jsx)(Oe,{exact:!0,path:"/",component:ce}),Object(g.jsx)(o.b,{exact:!0,path:"/login",component:fe}),Object(g.jsx)(o.b,{component:me})]})})})},pe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,106)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))},ve=a(22),ge=a(61),Ne=Object(ve.c)({auth:Y,characters:E}),ye=Object(ve.e)(Ne,Object(ve.d)(Object(ve.a)(ge.a))),we=a(71),ke=a(72);x.b.add(we.a,p.e,p.b),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.environment,[{username:"harry",password:"harry",userInfo:{name:"Harry Potter",house:"Gryffindor",isStaff:!1,isStudent:!0,email:"harry"}},{username:"severus",password:"severus",userInfo:{name:"Severus Snape",house:"Slytherin",isStaff:!0,isStudent:!1,email:"severus"}},{username:"luna",password:"luna",userInfo:{name:"Luna Lovegood",house:"Ravenclaw",isStaff:!1,isStudent:!0,email:"luna"}},{username:"cedric",password:"cedric",userInfo:{name:"Cedric Diggory",house:"Hufflepuff",isStaff:!1,isStudent:!0,email:"cedric"}},{username:"minerva",password:"minerva",userInfo:{name:"Minerva McGonagal",house:"Gryffindor",isStaff:!0,isStudent:!1,email:"minerva"}}]),a=new ke.a({routes:function(){this.post("/api/auth",(function(e,a){var c=JSON.parse(a.requestBody);return{user:t.filter((function(e){return e.username==c.username||e.password==c.password}))[0].userInfo}})),this.passthrough(),this.passthrough("http://hp-api.herokuapp.com/api/*")}})}();var Ce=ye;r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(f.a,{store:Ce,children:Object(g.jsx)(xe,{})})}),document.getElementById("root")),pe()},77:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.1006973b.chunk.js.map